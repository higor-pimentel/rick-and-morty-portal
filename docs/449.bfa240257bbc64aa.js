"use strict";(self.webpackChunkrick_and_morty_portal=self.webpackChunkrick_and_morty_portal||[]).push([[449],{8449:(w,g,a)=>{a.r(g),a.d(g,{LocationsModule:()=>O});var d=a(6895),m=a(1020),s=a(646),p=a(5158),t=a(8256),u=a(7713),c=a(2869);function h(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",15),t.NdJ("click",function(){const l=t.CHM(e).$implicit,L=t.oxw(3);return t.KtG(L.navigate(l.id))}),t._UZ(2,"img",16),t.TgZ(3,"div",17)(4,"h5",18),t._uU(5),t.qZA(),t.TgZ(6,"div",19)(7,"div"),t._uU(8,"Gender: "),t.TgZ(9,"div",20),t._uU(10),t.qZA()(),t.TgZ(11,"div"),t._uU(12,"Status: "),t.TgZ(13,"div",20),t._uU(14),t.qZA()()()()(),t.BQk()}if(2&n){const e=i.$implicit;t.xp6(2),t.Q6J("src",e.image,t.LSH)("alt",e.name+" image"),t.xp6(3),t.Oqu(e.name),t.xp6(5),t.Oqu(e.gender),t.xp6(4),t.Oqu(e.status)}}function f(n,i){if(1&n&&(t.TgZ(0,"div",13),t.YNc(1,h,15,5,"ng-container",14),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.location.residents)}}function v(n,i){if(1&n&&(t.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"h1",5),t._uU(4),t.qZA(),t.TgZ(5,"div"),t._uU(6,"Type: "),t.TgZ(7,"div",6),t._uU(8),t.qZA()(),t.TgZ(9,"div"),t._uU(10,"Dimension: "),t.TgZ(11,"div",6),t._uU(12),t.qZA()()()(),t.TgZ(13,"div",7)(14,"ul",8,9)(16,"li",10)(17,"a",11),t._uU(18,"Characters"),t.qZA()()()(),t.YNc(19,f,2,1,"div",12),t.qZA()),2&n){const e=t.oxw();t.xp6(4),t.Oqu(e.location.name),t.xp6(4),t.Oqu(e.location.type),t.xp6(4),t.Oqu(e.location.dimension),t.xp6(7),t.Q6J("ngIf",!!e.location.residents)}}function b(n,i){1&n&&(t.TgZ(0,"div",21)(1,"div",22)(2,"span",23),t._uU(3,"Loading..."),t.qZA()()())}let x=(()=>{class n{constructor(e,o,r){this.apollo=e,this.route=o,this.router=r,this.loading=!1,this.location={}}ngOnInit(){this.loading=!0,this.route.queryParams.subscribe(e=>{let{id:o}=e;this.getEpisode(o)})}getEpisode(e){this.apollo.watchQuery({query:p.FT,variables:{id:e}}).valueChanges.subscribe(({data:o})=>{this.loading=!1,this.location=o.location})}navigate(e){this.router.navigate(["characters/character"],{queryParams:{id:e}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(u._M),t.Y36(s.gz),t.Y36(s.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-detail"]],decls:3,vars:2,consts:[["class","container bg-primary bg-gradient bg-opacity-25 border border-2 rounded-1 border-sucess border-opacity-50 py-3 px-5 p-sm",4,"ngIf","ngIfElse"],["loadingSpinner",""],[1,"container","bg-primary","bg-gradient","bg-opacity-25","border","border-2","rounded-1","border-sucess","border-opacity-50","py-3","px-5","p-sm"],[1,"container-md","bg-light","bg-gradient","rounded-1","d-flex","flex-row","flex-wrap","gap-4","px-3","py-3"],["px-3","",1,"h-25","flex-column","flex-wrap","text-black-50"],[1,"text-dark"],[1,"fs-3","text-dark"],[1,"d-flex","flex-row","flex-wrap","justify-content-center","mt-2","gap-4","px-3","py-3"],["ngbNav","",1,"nav-pills","rounded-pill","bg-light","shadow","pe-none"],["nav","ngbNav"],["ngbNavItem",""],["ngbNavLink","",1,"rounded-pill"],["class","bg-light bg-gradient rounded-1 d-flex flex-row flex-wrap justify-content-center mt-2 gap-4 px-3 py-3",4,"ngIf"],[1,"bg-light","bg-gradient","rounded-1","d-flex","flex-row","flex-wrap","justify-content-center","mt-2","gap-4","px-3","py-3"],[4,"ngFor","ngForOf"],["role","button",1,"card",3,"click"],[1,"shadow","rounded-3","m-1","imgProfile",3,"src","alt"],[1,"card-body","bg-warning","bg-gradient","bg-opacity-25"],[1,"card-title"],[1,"card-text"],[1,"fs-4","text-dark"],[1,"z-2","min-vh-100","d-flex","justify-content-center","align-items-center"],["role","status",1,"spinner-border"],[1,"visually-hidden"]],template:function(e,o){if(1&e&&(t.YNc(0,v,20,4,"div",0),t.YNc(1,b,4,0,"ng-template",null,1,t.W1O)),2&e){const r=t.MAs(2);t.Q6J("ngIf",!o.loading)("ngIfElse",r)}},dependencies:[d.sg,d.O5,c.Pz,c.nv,c.Vx],styles:["@media screen and (max-width: 1400px){.pmt-sm[_ngcontent-%COMP%]{padding-top:0!important;margin-top:0!important}}@media screen and (max-width: 465px){.imgProfile[_ngcontent-%COMP%]{width:95%;height:auto}.p-sm[_ngcontent-%COMP%]{padding-right:1rem!important;padding-left:1rem!important}}"]}),n})();var y=a(9767),T=a(9055);const _=[{path:"",component:(()=>{class n{constructor(e,o,r){this.apollo=e,this.router=o,this.route=r,this.loading=!1,this.configTable={columns:[{name:"name",label:"Nome"},{name:"type",label:"Type"},{name:"dimension",label:"Dimension"}],totalElements:0,totalPages:0},this.dataSource=[],this.searchOptions=[{value:"name",label:"Name"},{value:"type",label:"Type"},{value:"dimension",label:"Dimension"}]}ngOnInit(){this.list()}list(){this.loading=!0,this.apollo.watchQuery({query:p.zT,variables:{page:1,filter:this.filterObj}}).valueChanges.subscribe(({data:e})=>{this.loading=!1,this.dataSource=e.locations.results,this.configTable.totalElements=e.locations.info.count,this.configTable.totalPages=e.locations.info.pages})}pageChanged(e){this.loading=!0,this.apollo.watchQuery({query:p.zT,variables:{page:e,filter:this.filterObj}}).valueChanges.subscribe(({data:o})=>{this.dataSource=this.dataSource.concat(o.locations.results),this.loading=!1})}search(e){this.filterObj=e,this.list()}selectedItem(e){this.router.navigate(["loc"],{relativeTo:this.route,queryParams:{id:e.id}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(u._M),t.Y36(s.F0),t.Y36(s.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-list"]],decls:6,vars:4,consts:[[1,"px-3","me-3"],[1,"d-flex","flex-row","flex-wrap","justify-content-between"],[1,"col-md","mb-3","flex-fill"],[1,"flex-fill",3,"options","searchOut"],[3,"loading","configTable","dataSource","pageChange","itemSelect"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"form",1)(2,"h1",2),t._uU(3,"List of Locations"),t.qZA(),t.TgZ(4,"app-search",3),t.NdJ("searchOut",function(l){return o.search(l)}),t.qZA()(),t.TgZ(5,"app-table",4),t.NdJ("pageChange",function(l){return o.pageChanged(l)})("itemSelect",function(l){return o.selectedItem(l)}),t.qZA()()),2&e&&(t.xp6(4),t.Q6J("options",o.searchOptions),t.xp6(1),t.Q6J("loading",o.loading)("configTable",o.configTable)("dataSource",o.dataSource))},dependencies:[y.a,T.g]}),n})()},{path:"loc",component:x}];let C=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[s.Bz.forChild(_),s.Bz]}),n})();var Z=a(6823);let O=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[d.ez,m.U,C,Z.t,c.Oz]}),n})()}}]);